{"version":3,"sources":["Article.js","SearchForm.js","Header.js","App.js","reportWebVitals.js","index.js"],"names":["Article","article","moment","index","require","timestamp","created","console","log","formatted","unix","fromNow","className","href","text","target","url","points","author","comments","SearchForm","setQuery","useState","value","setValue","onSubmit","e","preventDefault","type","placeholder","onChange","Header","src","xmlns","width","height","viewBox","fill","stroke","stroke-width","stroke-linecap","stroke-linejoin","cx","cy","r","x1","y1","x2","y2","App","articles","setArticles","query","loading","setLoading","fetchData","endpoint","fetch","then","response","json","newArticles","hits","map","result","title","num_comments","created_at_i","isCompleted","sort","a","b","catch","error","alert","useEffect","interval","setInterval","clearInterval","style","display","length","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9c473c48.chunk.js","sourcesContent":["\r\nimport { format } from 'date-fns';\r\nimport { moment } from 'moment';\r\nexport default function Article({ article, index }) {\r\n  const moment = require('moment');\r\n  const timestamp = article.created;\r\n  console.log(\"Created: \" + article.created);\r\n  console.log(\"TS: \" + timestamp);\r\n  // const formatted = moment(timestamp).format('dddd');\r\n  // const formatted = moment(timestamp).format('YYYYMMDD');\r\n  const formatted = moment.unix(timestamp).fromNow();\r\n  // const formatted = moment(timestamp, \"YYYYMMDD\").fromNow();\r\n\r\n    return (\r\n      <article className=\"Story\">\r\n        <div className=\"Story_container\">\r\n          <div className=\"Story_data\">\r\n            <div className=\"Story_title\">\r\n              <a href=\"\"><span>{article.text}</span></a>\r\n              <a href=\"{article.url}\" target=\"_blank\" className=\"Story_link\">({article.url})</a>\r\n            </div>\r\n            <div className=\"Story_meta\">\r\n              <span><a href=\"\">{article.points} points</a></span>\r\n              <span className=\"Story_separator\">|</span>\r\n              <span><a href=\"\"><span>{article.author}</span></a></span>\r\n              <span className=\"Story_separator\">|</span>\r\n              \r\n              <span><a href=\"\"></a>{formatted}</span>\r\n              <span className=\"Story_separator\">|</span>\r\n              <span><a href=\"\">{article.comments} comments</a></span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </article>\r\n    );\r\n}\r\n","import React, { useState } from \"react\";\r\n\r\nexport default function SearchForm ({setQuery}) {\r\n    const [value, setValue] = useState(\"\");\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n        if (!value) return;\r\n        setQuery(value);\r\n        // setValue(\"\");\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <input type=\"search\" placeholder=\"Search stories by title, url or author\" className=\"SearchInput\" value={value} onChange={e => setValue(e.target.value)} />\r\n            <button className=\"searchButton\">Search</button>\r\n        </form>\r\n    )\r\n}","import SearchForm from \"./SearchForm\";\r\n\r\nexport default function Header({setQuery}) {\r\n    return (\r\n    <header className=\"SearchHeader container\">\r\n        <div className=\"SearchHeader_search\">\r\n            <a className=\"SearchHeader_logo\" href=\"/\">\r\n                <img src=\"//d3nb9u6x572n0.cloudfront.net/packs/media/images/logo-hn-search-a822432b.png\" />\r\n                <div className=\"SearchHeader_label\">Search<br />H<span>acker </span>N<span>ews </span>Clone</div>\r\n            </a>\r\n            <div className=\"SearchHeader_container\">\r\n                <span className=\"SearchIcon\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"11\" cy=\"11\" r=\"8\"></circle><line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\"></line></svg></span>\r\n                <SearchForm setQuery={setQuery} />\r\n            </div>\r\n        </div>\r\n    </header>\r\n    );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport Article from \"./Article.js\";\r\nimport Header from \"./Header.js\";\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  const [articles, setArticles] = useState([]);\r\n  const [query, setQuery] = useState(\"react\");\r\n  const [loading, setLoading] = useState(false);\r\n \r\n  const fetchData = (setArticles) => {\r\n    setLoading(true)\r\n    let endpoint = `https://hn.algolia.com/api/v1/search?query=${query}`\r\n    fetch(endpoint)\r\n    .then((response) => response.json())\r\n    .then((response) => {\r\n        setLoading(false);\r\n        const newArticles = response.hits.map((result) => ({\r\n          text: result.title,\r\n          url: result.url,\r\n          points: result.points,\r\n          comments: result.num_comments,\r\n          author: result.author,\r\n          created: result.created_at_i,\r\n          isCompleted: false\r\n        }))\r\n      .sort((a, b) => (a.num_comments > b.num_comments ? -1:1));\r\n      setArticles(newArticles);\r\n      setQuery(response.query);\r\n    })\r\n    // Error handling\r\n    .catch(error => {\r\n      setLoading(false);\r\n      alert(error);\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n      fetchData(setArticles);\r\n      // Automatic data refresh after 5 minutes\r\n      const interval = setInterval(() => {\r\n        fetchData(setArticles);\r\n      }, 300000);\r\n      return () => clearInterval(interval);\r\n  }, [query]);\r\n\r\n\r\n  return (\r\n    <div className=\"default light\">\r\n      <div className=\"container\">\r\n        <Header setQuery={setQuery} />\r\n        {/*Display spinner if news are loading*/}\r\n        <div className=\"loader-container\" style={loading ? {display:\"block\"} : {display:\"none\"}}> \r\n          <div className=\"loader\"></div>\r\n        </div>\r\n        <section className=\"SearchResults\" style={loading ? {display:\"none\"} : {display:\"block\"}}>\r\n          <div className=\"SearchResults_container\">\r\n            {/*Check if search gave results*/}\r\n            <div className=\"search-term\">{articles.length ? `${articles.length} News about \"${query}\": ` : `No news found for \"${query}\"`}</div>\r\n            {articles.map((article, index) => (\r\n              <Article\r\n                key={index}\r\n                index={index}\r\n                article={article}\r\n              />\r\n            ))}\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}
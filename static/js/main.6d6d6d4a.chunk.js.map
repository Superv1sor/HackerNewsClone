{"version":3,"sources":["Article.js","Edit.js","SearchForm.js","Header.js","App.js","reportWebVitals.js","index.js"],"names":["Article","article","moment","index","require","timestamp","created","console","log","formatted","unix","fromNow","className","href","text","url","target","points","author","comments","Edit","useState","stylePath","setStylePath","type","onClick","document","getElementById","process","SearchForm","setQuery","value","setValue","onSubmit","e","preventDefault","placeholder","onChange","Header","src","alt","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","cx","cy","r","x1","y1","x2","y2","App","articles","setArticles","query","loading","setLoading","fetchData","endpoint","fetch","then","response","json","newArticles","hits","map","result","title","num_comments","created_at_i","isCompleted","sort","a","b","catch","error","alert","useEffect","interval","setInterval","clearInterval","style","display","length","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.6d6d6d4a.chunk.js","sourcesContent":["export default function Article({ article, index }) {\r\n  const moment = require('moment');\r\n  const timestamp = article.created;\r\n  console.log(\"Created: \" + article.created);\r\n  console.log(\"TS: \" + timestamp);\r\n  // const formatted = moment(timestamp).format('dddd');\r\n  // const formatted = moment(timestamp).format('YYYYMMDD');\r\n  const formatted = moment.unix(timestamp).fromNow();\r\n  // const formatted = moment(timestamp, \"YYYYMMDD\").fromNow();\r\n\r\n    return (\r\n      <article className=\"Story\">\r\n        <div className=\"Story_container\">\r\n          <div className=\"Story_data\">\r\n            <div className=\"Story_title\">\r\n              <a href=\"\"><span>{article.text}</span></a>\r\n              <a href={article.url} target=\"_blank\" className=\"Story_link\">({article.url})</a>\r\n            </div>\r\n            <div className=\"Story_meta\">\r\n              <span><a href=\"\">{article.points} points</a></span>\r\n              <span className=\"Story_separator\">|</span>\r\n              <span><a href=\"\"><span>{article.author}</span></a></span>\r\n              <span className=\"Story_separator\">|</span>\r\n              \r\n              <span><a href=\"\"></a>{formatted}</span>\r\n              <span className=\"Story_separator\">|</span>\r\n              <span><a href=\"\">{article.comments} comments</a></span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </article>\r\n    );\r\n}\r\n","import React, {useState} from 'react';\r\n\r\n\r\nexport default function Edit () {\r\n    const [stylePath, setStylePath] = useState('/index.css')\r\n\r\n    const handleButtonClick = () => {\r\n        stylePath === '/index.css' ? setStylePath('/style2.css') : setStylePath('/index.css')\r\n\r\n        const style = document.getElementById('style-edit');\r\n        style.href = process.env.PUBLIC_URL+ stylePath;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <button type=\"button\" onClick={handleButtonClick}>Click to update stylesheet</button>\r\n        </div>\r\n    )\r\n}\r\n\r\n//https://stackoverflow.com/questions/48495706/in-react-how-to-change-css-files-linked-in-the-head-of-index-html\r\n\r\n//https://react.semantic-ui.com/usage","import React, { useState } from \"react\";\r\n\r\nexport default function SearchForm ({setQuery}) {\r\n    const [value, setValue] = useState(\"\");\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n        if (!value) return;\r\n        setQuery(value);\r\n        // setValue(\"\");\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <input type=\"search\" placeholder=\"Search stories by title, url or author\" className=\"SearchInput\" value={value} onChange={e => setValue(e.target.value)} />\r\n            <button className=\"searchButton\">Search</button>\r\n        </form>\r\n    )\r\n}","import Edit from \"./Edit\";\r\nimport SearchForm from \"./SearchForm\";\r\n\r\nexport default function Header({setQuery}) {\r\n    return (\r\n    <header className=\"SearchHeader container\">\r\n        <div className=\"SearchHeader_search\">\r\n            <a className=\"SearchHeader_logo\" href=\"/\">\r\n                <img src=\"//d3nb9u6x572n0.cloudfront.net/packs/media/images/logo-hn-search-a822432b.png\" alt=\"Logo\" />\r\n                <div className=\"SearchHeader_label\">Search<br />H<span>acker </span>N<span>ews </span>Clone</div>\r\n            </a>\r\n            <div className=\"SearchHeader_container\">\r\n                <span className=\"SearchIcon\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><circle cx=\"11\" cy=\"11\" r=\"8\"></circle><line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\"></line></svg></span>\r\n                <SearchForm setQuery={setQuery} />\r\n                <Edit />\r\n            </div>\r\n        </div>\r\n    </header>\r\n    );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport Article from \"./Article.js\";\r\nimport Header from \"./Header.js\";\r\nimport './App.css';\r\n//import './index.css';\r\n//import './style2.css';\r\n\r\nfunction App() {\r\n  const [articles, setArticles] = useState([]);\r\n  const [query, setQuery] = useState(\"react\");\r\n  const [loading, setLoading] = useState(false);\r\n  // const [stylePath, setStylePath] = useState(\"./index.css\");\r\n \r\n  const fetchData = (setArticles) => {\r\n    setLoading(true)\r\n    let endpoint = `https://hn.algolia.com/api/v1/search?query=${query}`\r\n    fetch(endpoint)\r\n    .then((response) => response.json())\r\n    .then((response) => {\r\n        setLoading(false);\r\n        const newArticles = response.hits.map((result) => ({\r\n          text: result.title,\r\n          url: result.url,\r\n          points: result.points,\r\n          comments: result.num_comments,\r\n          author: result.author,\r\n          created: result.created_at_i,\r\n          isCompleted: false\r\n        }))\r\n      .sort((a, b) => (a.num_comments > b.num_comments ? -1:1));\r\n      setArticles(newArticles);\r\n      setQuery(response.query);\r\n    })\r\n    // Error handling\r\n    .catch(error => {\r\n      setLoading(false);\r\n      alert(error);\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n      fetchData(setArticles);\r\n      // Automatic data refresh after 5 minutes\r\n      const interval = setInterval(() => {\r\n        fetchData(setArticles);\r\n      }, 300000);\r\n      return () => clearInterval(interval);\r\n  }, [query]);\r\n\r\n   return (\r\n    <div className=\"default light\">\r\n     \r\n      <div className=\"container\">\r\n        <Header setQuery={setQuery} />\r\n        {/*Display spinner if news are loading*/}\r\n        <div className=\"loader-container\" style={loading ? {display:\"block\"} : {display:\"none\"}}> \r\n          <div className=\"loader\"></div>\r\n        </div>\r\n        <section className=\"SearchResults\" style={loading ? {display:\"none\"} : {display:\"block\"}}>\r\n          <div className=\"SearchResults_container\">\r\n            {/*Check if search gave results*/}\r\n            <div className=\"search-term\">{articles.length ? `${articles.length} News about \"${query}\": ` : `No news found for \"${query}\"`}</div>\r\n            {articles.map((article, index) => (\r\n              <Article\r\n                key={index}\r\n                index={index}\r\n                article={article}\r\n              />\r\n            ))}\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n//import './index.css';\n//import './style2.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}